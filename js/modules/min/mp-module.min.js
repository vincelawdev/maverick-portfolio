var mp_module=function(){var i={window_width:$(window).width(),content_height:0,sidebar_height:0,max_height:0,init:function(){i.page_measurements(),$(window).resize(function(){i.window_width=$(window).width(),i.page_measurements()})},page_measurements:function(){i.content_height=$("#content").outerHeight(!0),i.sidebar_height=$("#sidebar").is(":visible")?$("#sidebar").height():0,i.max_height=Math.max(i.content_height,i.sidebar_height),i.content_height<i.sidebar_height&&$("#content").height(i.max_height),console.log("Window: "+i.window_width),console.log("Content: "+i.content_height),console.log("Sidebar: "+i.sidebar_height),console.log("Max: "+i.max_height)}},e={init:function(){$(".search-menu-button").click(function(i){i.preventDefault();var e=$(this),n=$(".search-box");e.hasClass("active")?(e.removeClass("active"),n.slideUp("fast")):(e.addClass("active"),n.slideDown("fast"),$(".search-box-field").focus())})}},n={init:function(){this.superfish_init(),this.meanmenu_init(),this.organic_tabs_init()},superfish_init:function(){n.superfish_arrows(),$(window).resize(function(){n.superfish_arrows()}),$(".sf-menu > li.current-menu-item:has(.sub-menu)").find(".arrow-down").addClass("on"),$(".sf-menu > li.current-page-ancestor, .sf-menu > li.current-menu-ancestor, .sf-menu > li.current-menu-parent").find(".arrow-down").addClass("on"),$(".sf-menu > li:has(.sub-menu)").not(".sf-menu > li.current-page-ancestor, .sf-menu > li.current-menu-ancestor, .sf-menu > li.current-menu-parent, .sf-menu > li.current-menu-item").hover(function(){$(this).find(".arrow-down").toggleClass("on")}),$(".sub-menu > li:has(.sub-menu)").find("a:first").append('<span class="arrow-right"></span>'),$(".sub-menu > li:has(.sub-menu)").hover(function(){$(this).find(".arrow-right").toggleClass("on"),$(this).find(".sf-with-ul").toggleClass("on")}),$(".sf-menu").supersubs({minWidth:15,maxWidth:100,extraWidth:1}).superfish()},superfish_arrows:function(){i.window_width>767?0==$(".arrow-down").length&&$(".sf-menu > li:has(.sub-menu)").append('<span class="arrow-down"></span>'):$(".arrow-down").length&&$(".arrow-down").remove()},meanmenu_init:function(){$("#header-row2 #menu").meanmenu({meanScreenWidth:"767",meanMenuContainer:"#header-row2 .header-wrapper",meanRevealPosition:"left"})},organic_tabs_init:function(){$("#sidebar").find("#post-tabs").length>0&&$("#post-tabs").organicTabs({speed:200}),$("#sidebar").find("#comment-tabs").length>0&&$("#comment-tabs").organicTabs({speed:200})}},t={init:function(){this.flexslider.init()},flexslider:{init:function(){$(".home-slides").fitVids().flexslider({animation:"slide",easing:"swing",animationLoop:!0,smoothHeight:!0,slideshow:!0,slideshowSpeed:5e3,animationSpeed:300,initDelay:0,useCSS:!0,controlNav:!0,directionNav:!0,keyboard:!0,multipleKeyboard:!1,mousewheel:!0}),$(".home-slides .slides .video").mouseover(function(){$(".flexslider").flexslider("pause")})}}},a={init:function(){this.gallerific.init(),this.colorbox_init()},gallerific:{opacity_level:.67,gallerific_options:{numThumbs:2,preloadAhead:10,maxPagesToShow:100,delay:500,defaultTransitionDuration:500,syncTransitions:!0,autoStart:!1,enableTopPager:!1,enableBottomPager:!1,renderSSControls:!1,renderNavControls:!1,enableKeyboardNavigation:!0,enableHistory:!0,imageContainerSel:"#project_gallery",controlsContainerSel:"",captionContainerSel:"#project_gallery_caption",loadingContainerSel:"",onSlideChange:function(i,e){this.find("ul.thumbs").children().eq(i).fadeTo("fast",a.gallerific.opacity_level).end().eq(e).fadeTo("fast",1)},onPageTransitionOut:function(i){this.fadeTo("fast",0,i)},onPageTransitionIn:function(){var i=this.find("a.previous").css("visibility","hidden"),e=(this.find("a.previous_blank").css("visibility","hidden"),this.find("a.next").css("visibility","hidden")),n=this.getNumPages()-1;this.displayedPage>0&&i.css("visibility","visible"),this.displayedPage<n&&e.css("visibility","visible"),this.fadeTo("fast",1)},onTransitionIn:function(){$("#project_gallery").fadeTo("fast",1),$("#project_gallery span.image-wrapper").fadeTo("fast",1),$("#project_gallery_caption").fadeTo("fast",1),$("#project_gallery_caption span.image-caption").fadeTo("fast",1),$("#project_gallery_caption").fadeIn("fast",function(){$("#project_gallery a.project_gallery").colorbox()})}},init:function(){if($("#content").find("#project_gallery").length>0){a.gallerific.gallerific_number_of_thumbnails();var i=$("#project_gallery_thumbnails").galleriffic(a.gallerific.gallerific_options);$(window).resize(function(){a.gallerific.gallerific_number_of_thumbnails(),i=$("#project_gallery_thumbnails").galleriffic(a.gallerific.gallerific_options)}),$("#project_gallery_thumbnails ul.thumbs li, #project_gallery_thumbnails a.previous, #project_gallery_thumbnails a.next").opacityrollover({mouseOutOpacity:a.gallerific.opacity_level,mouseOverOpacity:1,fadeSpeed:"fast",exemptionSelector:".selected"}),i.find("a.previous").click(function(e){i.previousPage(),e.preventDefault()}),i.find("a.next").click(function(e){i.nextPage(),e.preventDefault()}),$.historyInit(a.gallerific.gallerific_page_load,"advanced.html"),$('a[rel="history"]').live("click",function(i){if(0!=i.button)return!0;var e=this.href;return e=e.replace(/^.*#/,""),$.historyLoad(e),!1})}},gallerific_page_load:function(i){i?$.galleriffic.gotoImage(i):gallery.gotoIndex(0)},gallerific_number_of_thumbnails:function(){i.window_width>=320&&i.window_width<480?a.gallerific.gallerific_options.numThumbs=2:i.window_width>=480&&i.window_width<768?a.gallerific.gallerific_options.numThumbs=3:i.window_width>=768&&i.window_width<1024?a.gallerific.gallerific_options.numThumbs=3:i.window_width>=1024&&(a.gallerific.gallerific_options.numThumbs=4)}},colorbox_init:function(){$("a.colorbox").colorbox({current:"Image {current} of {total}",rel:"colorbox"}),$(".instagram_iframe").colorbox({iframe:!0,width:"80%",height:"80%",current:"Instagram Image {current} of {total}",rel:"instagram_iframe"}),$(".dribbble_iframe").colorbox({iframe:!0,width:"80%",height:"80%",current:"Dribbble Thumbnail {current} of {total}",rel:"dribbble_iframe"})}};return{run_at_load:function(){e.init(),n.init(),t.init(),a.init()},run_after_load:function(){i.init()}}}();$(document).ready(function(){mp_module.run_at_load()}),$(window).load(function(){mp_module.run_after_load()});